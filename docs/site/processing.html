
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="OCTproZ is an open source software for optical coherence tomography processing and visualization.">
      
      
        <meta name="author" content="Miroslav Zabic">
      
      
        <link rel="canonical" href="https://github.com/spectralcode/OCTproZ/processing.html">
      
      
        <link rel="prev" href="quickstart.html">
      
      
        <link rel="next" href="visualization.html">
      
      
      <link rel="icon" href="images/octproz_icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Processing Pipeline - OCTproZ Documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="css/custom.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#processing-pipeline" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="OCTproZ Documentation" class="md-header__button md-logo" aria-label="OCTproZ Documentation" data-md-component="logo">
      
  <img src="images/octproz_icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OCTproZ Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Processing Pipeline
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="index.html" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="developer/index.html" class="md-tabs__link">
          
  
  Developer Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="OCTproZ Documentation" class="md-nav__button md-logo" aria-label="OCTproZ Documentation" data-md-component="logo">
      
  <img src="images/octproz_icon.png" alt="logo">

    </a>
    OCTproZ Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quickstart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Processing Pipeline
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="processing.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Processing Pipeline
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#processing-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Processing Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Processing Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-conversion" class="md-nav__link">
    <span class="md-ellipsis">
      Data conversion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dc-background-removal" class="md-nav__link">
    <span class="md-ellipsis">
      DC background removal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k-linearization" class="md-nav__link">
    <span class="md-ellipsis">
      k-linearization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dispersion-compensation" class="md-nav__link">
    <span class="md-ellipsis">
      Dispersion compensation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windowing" class="md-nav__link">
    <span class="md-ellipsis">
      Windowing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inverse-fast-fourier-transform-ifft" class="md-nav__link">
    <span class="md-ellipsis">
      Inverse Fast Fourier Transform (IFFT)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-pattern-noise-removal" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed-pattern noise removal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truncate" class="md-nav__link">
    <span class="md-ellipsis">
      Truncate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logarithm-and-dynamic-range-adjustment" class="md-nav__link">
    <span class="md-ellipsis">
      Logarithm and dynamic range adjustment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backward-scan-correction" class="md-nav__link">
    <span class="md-ellipsis">
      Backward scan correction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sinusoidal-scan-correction" class="md-nav__link">
    <span class="md-ellipsis">
      Sinusoidal scan correction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-processing-background-subtraction" class="md-nav__link">
    <span class="md-ellipsis">
      Post-processing background subtraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-data-conversion-and-export" class="md-nav__link">
    <span class="md-ellipsis">
      Final data conversion and export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#effect-of-single-processing-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Effect of single processing steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="visualization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="functionality.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functionality
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plugins
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plugins.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plugin-axialpsfanalyzer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Axial PSF Analyzer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plugin-camera.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Camera
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plugin-dispersionestimator.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dispersion Estimator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plugin-imagestatistics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image Statistics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plugin-peakdetector.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Peak Detector
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plugin-phaseextraction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phase Extraction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plugin-socketstream.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Socket Stream
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="troubleshooting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="faq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="developer/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="developer/build.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#processing-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Processing Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Processing Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-conversion" class="md-nav__link">
    <span class="md-ellipsis">
      Data conversion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dc-background-removal" class="md-nav__link">
    <span class="md-ellipsis">
      DC background removal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k-linearization" class="md-nav__link">
    <span class="md-ellipsis">
      k-linearization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dispersion-compensation" class="md-nav__link">
    <span class="md-ellipsis">
      Dispersion compensation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windowing" class="md-nav__link">
    <span class="md-ellipsis">
      Windowing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inverse-fast-fourier-transform-ifft" class="md-nav__link">
    <span class="md-ellipsis">
      Inverse Fast Fourier Transform (IFFT)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-pattern-noise-removal" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed-pattern noise removal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truncate" class="md-nav__link">
    <span class="md-ellipsis">
      Truncate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logarithm-and-dynamic-range-adjustment" class="md-nav__link">
    <span class="md-ellipsis">
      Logarithm and dynamic range adjustment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backward-scan-correction" class="md-nav__link">
    <span class="md-ellipsis">
      Backward scan correction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sinusoidal-scan-correction" class="md-nav__link">
    <span class="md-ellipsis">
      Sinusoidal scan correction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-processing-background-subtraction" class="md-nav__link">
    <span class="md-ellipsis">
      Post-processing background subtraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-data-conversion-and-export" class="md-nav__link">
    <span class="md-ellipsis">
      Final data conversion and export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#effect-of-single-processing-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Effect of single processing steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="processing-pipeline">Processing Pipeline</h1>
<p>The OCT signal processing is entirely performed on the GPU. The spectral interferograms acquired by the OCT system are transferred to RAM until a user-defined number of B-scans is collected. This raw data batch is then copied to GPU memory for processing and display. Finally, the processed data is copied back to RAM, where it can be used for further analysis by plugins or saved to disk.</p>
<p>The following image shows the processing pipeline. While most steps can be enabled or disabled by the user, data conversion, IFFT, and truncation are always active.</p>
<figure>
    <img alt="OCTproZ Processing Flowchart" src="images/octproz_processing_flowchart_stations.png" />
    <figcaption>OCTproZ processing pipeline</figcaption>
</figure>
<h2 id="processing-steps">Processing Steps</h2>
<h3 id="data-conversion">Data conversion</h3>
<p>The first step of the OCT processing pipeline converts the incoming raw data, that may have a bit depth between 8 bit and 32 bit, to a single-precision, floating-point complex data type with a bit depth of 32 bit. This ensures that the processing pipeline can be executed for a variety of different input data types. Furthermore, a bit shift operation can be applied during the conversion process if necessary. Some digitizers, that are commonly used for swept-source OCT (SS-OCT), can be configured to use 16-bit integers to store 12-bit sample values in the most significant bits (e.g. ATS9373, Alazar Technologies Inc.). To extract the actual 12-bit value a right-shift by 4, which is equal to a division by 16, needs to be applied to every 16-bit integer.</p>
<h3 id="dc-background-removal">DC background removal</h3>
<p>The DC component of the OCT signal is usually visible at the top of each B-scan as a bright line. To remove this DC component from each raw spectrum  <span class="arithmatex">\( I_{\mathrm{raw}}[m] \)</span>, a rolling average with a user-adjustable window size <span class="arithmatex">\( W \)</span> can be computed and subtracted from the raw signal. Ignoring boundary checks, the DC‑corrected signal is calculated by</p>
<div class="arithmatex">\[
    I_{\mathrm{ac}}[m] = I_{\mathrm{raw}}[m] - \frac{1}{2W} \sum_{n=m-W+1}^{m+W} I_{\mathrm{raw}}[n].
\]</div>
<p>In cases where the DC component does not vary significantly over time, the <a href="#fixed-pattern-noise-removal">fixed-pattern noise removal</a> step can also eliminate it. </p>
<h3 id="k-linearization">k-linearization</h3>
<p>To convert the acquired raw OCT data into a depth profile, an inverse Fourier transform can be used, which relates wavenumber <em>k</em> to physical distance. For optimal axial resolution, the raw data must be uniformly sampled in <em>k</em>-space. However, depending on the used hardware setup, the acquired spectral fringe pattern is usually not linear in <em>k</em>. In swept-source OCT, the wavenumber-time characteristics of the light source are often non-linear. In spectrometer-based OCT systems, the exact pixel position to wavenumber relationship depends on the optical elements of the spectrometer. There are hardware based approaches that enable a <em>k</em>-linear sampling like using a <em>k</em>-clock for non-linear temporal sampling of the raw signal in swept-source OCT or using special <em>k</em>-linear spectrometer designs.</p>
<p>Alternatively, there are software-based approaches to generate a signal with a <em>k</em>-space uniform sampling by resampling the data such that the data points are evenly distributed in <em>k</em>-space. This process is known as <em>k</em>-linearization. For the software-based approach in OCTproZ, a user-defined resampling curve <span class="arithmatex">\( r[m] \)</span> can be specified by providing the coefficients of a third-order polynomial. The resampling curve is a lookup table that assigns every index <span class="arithmatex">\( m \)</span> of the raw data array <span class="arithmatex">\( I_{\mathrm{raw}}[m] \)</span> an index <span class="arithmatex">\( m^\prime \)</span>, i.e. <span class="arithmatex">\( m^\prime = r[m] \)</span>. To obtain a <em>k</em>-linearized raw data array <span class="arithmatex">\( I_{\mathrm{k}}[m] \)</span>, the sample value at the index <span class="arithmatex">\( m^\prime \)</span> needs to be interpolated and remapped to the array position with index <span class="arithmatex">\( m \)</span>. The simplest way to do this is by using linear interpolation:</p>
<div class="arithmatex">\[
    I_{\mathrm{k}}[m] 
    = I_{\mathrm{raw}}[\lfloor m^\prime \rfloor] 
    + \bigl(m^\prime - \lfloor m^\prime \rfloor \bigr) 
      \bigl(I_{\mathrm{raw}}[\lfloor m^\prime \rfloor+1] - I_{\mathrm{raw}}[\lfloor m^\prime \rfloor]\bigr)
\]</div>
<p><span class="arithmatex">\( \lfloor x \rfloor \)</span> denotes the floor function that takes as input <span class="arithmatex">\( x \)</span>, a real number, and gives as output the greatest integer less than or equal to <span class="arithmatex">\( x \)</span>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The polynomial used for the resampling curve has the form:<br />
r(m) = c<sub>0</sub> + (c<sub>1</sub>/N)m + (c<sub>2</sub>/N<sup>2</sup>)m<sup>2</sup> + (c<sub>3</sub>/N<sup>3</sup>)m<sup>3</sup><br />
where N is the number of samples per raw A-scan - 1.</p>
</div>
<!---
!!! note
    The polynomial used for the resampling curve has the form:

    $$
    c_{0} + \frac{c_{1}}{N} x + \frac{c_{2}}{N^2} x^2 + \frac{c_{3}}{N^3} x^3
    $$

    where N is the number of samples per raw A-scan - 1.
-->

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A custom resampling curve (that does not need to be a polynomial fit) can be loaded by clicking on <code>Extras → Resampling curve for k-linearization → Load custom curve from file...</code><br />
The structure of the csv file with the curve data should be the same as the structure of the csv file that you get by right clicking on the resampling curve plot in the sidebar and saving the plot as csv file.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can use the <a href="https://github.com/spectralcode/PhaseExtractionExtension">PhaseExtractionExtension</a> for easy resampling curve determination.</p>
</div>
<p>Currently, three interpolation methods are available in OCTproZ: Linear, Cubic Spline (Catmull-Rom Spline), and Lanczos. These methods represent a trade-off between speed and accuracy, with Linear being the fastest and Lanczos being the most accurate. The figure below shows typical interpolation artifacts that can be seen when using the different interpolation methods:</p>
<figure>
    <img alt="Interpolation Methods Comparison" src="images/processing_interpolation.png" />
    <figcaption>Image artifacts of different interpolation methods for k-linearization indicated by red arrows</figcaption>
</figure>
<h3 id="dispersion-compensation">Dispersion compensation</h3>
<p>Differences in the dispersive media lengths in the sample and reference arms of an OCT system introduce a wavenumber‑dependent phase shift on the raw signal that degrades axial resolution of the processed OCT images. While hardware‑based methods (e.g. prism pairs used as variable‑thickness windows) can physically balance dispersion mismatch, numerical dispersion compensation offers a flexible alternative, especially in cases where the mismatch is mainly caused by the sample and not only by the optical setup itself.</p>
<p>In numerical dispersion compensation, the raw signal <span class="arithmatex">\( I_{\mathrm{raw}}[m] \)</span> is corrected by multiplying it with a phase term that cancels the dispersion‑induced phase shift:</p>
<div class="arithmatex">\[
    I_{\mathrm{comp}}[m] = I_{\mathrm{raw}}[m] \cdot e^{-i\,\theta\bigl(k\bigr)},
\]</div>
<p>where <span class="arithmatex">\( \theta(k) \)</span> is a user‑defined phase function. Expressing the phase term in its real and imaginary parts as</p>
<div class="arithmatex">\[
    e^{-i\,\theta\bigl(k\bigr)} = \cos\bigl(\theta(k)\bigr) - i\,\sin\bigl(\theta(k)\bigr)
\]</div>
<p>and noting that the imaginary part of <span class="arithmatex">\( I_{\mathrm{raw}}[m] \)</span> is zero, the multiplication simplifies to</p>
<div class="arithmatex">\[
    \begin{aligned}
        \mathrm{Re}\{ I_{\mathrm{comp}}[m] \} &amp;= I_{\mathrm{raw}}[m] \cdot \cos\bigl(\theta(k)\bigr),\\
        \mathrm{Im}\{ I_{\mathrm{comp}}[m] \} &amp;= -I_{\mathrm{raw}}[m] \cdot \sin\bigl(\theta(k)\bigr).
    \end{aligned}
\]</div>
<p>This simplified calculation avoids performing a full complex multiplication. This appraoch is slightly different from the one described by <a href="https://doi.org/10.1364/OPEX.12.002404">Maciej Wojtkowski et al. (2004)</a>. In their method, the Hilbert transform is used to generate the imaginary part of the raw signal, and then a full complex multiplication is performed. Both approaches result in identical OCT data.</p>
<p>The phase function <span class="arithmatex">\( \theta(k) \)</span> is implemented as a third‑order polynomial with coefficients <span class="arithmatex">\( d_0, d_1, d_2, d_3 \)</span>, which can be set in the GUI. <span class="arithmatex">\( d_0 \)</span> does not change the resulting OCT images at all; <span class="arithmatex">\( d_1 \)</span> can be used to shift the OCT image in axial direction without altering the axial resolution. Only <span class="arithmatex">\( d_2 \)</span> and <span class="arithmatex">\( d_3 \)</span> are responsible for the actual dispersion compensation that can improve axial resolution. </p>
<p>In many cases, it is possible to find good values for <span class="arithmatex">\( d_2 \)</span> and <span class="arithmatex">\( d_3 \)</span> by manually varying them  until the resulting image shows the best axial resolution. However, it is also possible to use the <a href="https://github.com/spectralcode/DispersionEstimatorExtension">dispersion estimator extension</a> to obtain suitable coefficient values by optimizing an A-scan quality metric. </p>
<h3 id="windowing">Windowing</h3>
<p>The raw data is multiplied by a window function, which sets the signal to zero outside of a predefined interval. This reduces side lobes in the resulting signal after IFFT. The GUI allows to choose between different window functions (Gaussian, Hanning, Sine, Lanczos and Rectangular window) and to set their width and center position.</p>
<h3 id="inverse-fast-fourier-transform-ifft">Inverse Fast Fourier Transform (IFFT)</h3>
<p>The inverse Fourier transform is the essential processing step to calculate the depth profile from a spectral interferogram. The IFFT output is normalized by dividing each sample by the total number of samples.</p>
<h3 id="fixed-pattern-noise-removal">Fixed-pattern noise removal</h3>
<p>Fixed pattern noise refers to structural artifacts in OCT images that appear as fixed horizontal lines. These artifacts are caused, for example, by variations in pixel response in the CCD camera in spectrometer based OCT systems or spurious etalons within the optical OCT setup. A common approach to reduce fixed pattern noise is to acquire a reference signal in absence of a sample and subtract it from all subsequent recordings. In OCTproZ, the minimum-variance mean-line subtraction method that was described by <a href="https://doi.org/10.1364/OE.18.024395">Moon et al. (2010)</a> can be used. This approach does not require an additional reference recording and can be applied continuously such that fixed pattern noise due spectral intensity variation of the source is reduced as well.</p>
<h3 id="truncate">Truncate</h3>
<p>This step removes the mirror image on the opposite side of zero pathlength by cropping half of the processed OCT data. The mirror image is sometimes referred to as mirror artifact or complex conjugate artifact. It originates from the fact that the inverse Fourier transform is applied to a real-valued signal which results in a conjugate symmetric signal (i.e. the positive and negative distances are complex conjugates of each other).</p>
<h3 id="logarithm-and-dynamic-range-adjustment">Logarithm and dynamic range adjustment</h3>
<p>For better visualization of OCT data, some form of dynamic range compression is usually used because the smallest and largest signals can differ by several orders of magnitude. The most common method, which is also used in OCTproZ, is simply to take the logarithm of the signal after IFFT:</p>
<div class="arithmatex">\[
i[z] = 20 \, \log_{10}\!\left|\mathcal{F}^{-1}\{I_k[m]\}\right|
\]</div>
<p>In addition, dynamic range adjustment is performed to enable the user to set minimum and maximum values (in dB) that should be displayed:</p>
<div class="arithmatex">\[
i_{\text{adj}}[z] = \text{coeff} \left( \frac{i[z]- \text{min}}{\text{max} - \text{min}} + \text{addend} \right),
\]</div>
<p>The parameters <strong>coeff</strong>, <strong>min</strong>, <strong>max</strong>, and <strong>addend</strong> can be set by the user. Usually, <strong>min</strong> and <strong>max</strong> are chosen so that the noise floor in the OCT images appears quite dark and the actual signal of interest appears bright. <strong>Coeff</strong> can be used to adjust the contrast of the image, and <strong>addend</strong> can be used to adjust the brightness. Typically, these values are set to <strong>coeff = 1</strong> and <strong>addend = 0</strong>.</p>
<h3 id="backward-scan-correction">Backward scan correction</h3>
<p>To increase frame rate, a bidirectional scanning scheme can be used. However, this means that every other frame is flipped. The backward scan correction step unflips these frames.</p>
<figure>
    <img alt="Backward Scan Correction" src="images/processing_bscanflip.png" />
    <figcaption>Bidirectional scanning scheme and the effect of backward scan correction on the en face view</figcaption>
</figure>
<p>The image above shows the effect of the backward scan correction on the en face view of an OCT volume that was acquired using a bidirectional scanning scheme. A piece of wood with a laser burned hole was used as sample. Left: Spot path on sample when a bidirectional scanning scheme is applied. Middle: En face view with enabled backward scan correction. Right: En face view when backward scan correction is disabled.</p>
<h3 id="sinusoidal-scan-correction">Sinusoidal scan correction</h3>
<p>A resonant scanner can be used for high-speed OCT systems. Due to the sinusoidal scan motion, the resulting images are distorted. This processing step uses linear interpolation to unstretch this sinusoidal distortion. The figure below shows the effect of this processing step.</p>
<figure>
    <img alt="Sinusoidal Scan Correction" src="images/processing_sinusoidalcorrection.png" />
    <figcaption>En face view of a grid structure acquired with sinusoidal scanning. Left: sinusoidal scann correction not applied, distortions visible. Right: en face view after applying sinusoidal scan correction, </figcaption>
</figure>
<h3 id="post-processing-background-subtraction">Post-processing background subtraction</h3>
<p>In some cases, residual horizontal lines may persist even after DC background removal and fixed-pattern noise correction. Additionally, other types of artifacts, such as axial intensity gradients, can still be present. This post-processing background subtraction step can be used to reduce these artifacts.</p>
<p>A background A-scan <span class="arithmatex">\( i_{\text{bg}}[z] \)</span> is first computed by averaging all A-scans from a separate background recording. During processing, each A-scan <span class="arithmatex">\( i[z] \)</span> is then corrected by subtracting a scaled and offset version of this background:</p>
<div class="arithmatex">\[
i_{\text{corr}}[z] = i[z] - (w \cdot i_{\text{bg}}[z] + o)
\]</div>
<p>where <span class="arithmatex">\( w \)</span> is a user-defined weight factor and <span class="arithmatex">\( o \)</span> is a user-defined offset.</p>
<h3 id="final-data-conversion-and-export">Final data conversion and export</h3>
<p>Before the processed OCT data is transferred to CPU memory — either for saving to disk or for use by other plugins — it is converted back to the original raw data bit depth. During this conversion, out-of-range values are clamped, and the data is scaled to the entire value range of the target bit depth (e.g., 0–255 for 8-bit, 0–65535 for 16-bit).</p>
<p>Alternatively, for saving to disk, this conversion can be disabled. In this case, the internal 32-bit floating-point data is transferred to CPU memory and saved directly to disk without any additional scaling or clamping (except for the scaling already applied in the <em>Logarithm and dynamic range adjustment</em> step). Note that this option only affects saving to disk — processed data streamed to plugins is always converted to the original raw data bit depth.</p>
<h2 id="effect-of-single-processing-steps">Effect of single processing steps</h2>
<p>To illustrate the effect of single processing steps, B-scans of an OCT phantom (APL-OP01, Arden Photonics, UK) were acquired with a custom made SS-OCT system without k-klocking and with a slight dispersion imbalance. The acquired raw data was processed multiple times, each time with a different processing step disabled:</p>
<figure>
    <img alt="Processing Steps Comparison" src="images/processing_result.png" />
    <figcaption>The B-scans show a test pattern of an OCT phantom (APL-OP01, Arden Photonics, UK). Below each B-scan is an enlarged view of a corresponding area framed in red within the B-scan. a) The full processing pipeline is enabled. b) k linearization is disabled (all other steps are enabled). c) Dispersion compensation is disabled (all other steps are enabled). d) Windowing is disabled (all other steps are enabled). e) Fixed-pattern noise removal is disabled (all other steps are enabled). The red arrows point to horizontal structural artifacts that are visible if fixed-pattern noise removal is disabled.</figcaption>
</figure>
<!---

## Literature 
If you are interested in reading more about OCT processing in general, here are some recommendations:
- [Kalkman, J. "Fourier‐Domain Optical Coherence Tomography Signal Analysis and Numerical Modeling." International Journal of Optics 2017.1 (2017): 9586067.](https://onlinelibrary.wiley.com/doi/pdf/10.1155/2017/9586067) 

-->












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["header.autohide", "navigation.tabs", "navigation.tabs.sticky", "navigation.top"], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="js/mathjax.js"></script>
      
        <script src="js/custom.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>